{"version":3,"sources":["webpack:///./src/views/Details.vue?7947","webpack:///./src/components/CommentItem.vue?35f4","webpack:///./src/views/Details.vue?fa43","webpack:///./src/components/Comment.vue?ff71","webpack:///./src/components/CommentItem.vue?1f98","webpack:///src/components/CommentItem.vue","webpack:///./src/components/CommentItem.vue?d334","webpack:///./src/components/CommentItem.vue","webpack:///src/components/Comment.vue","webpack:///./src/components/Comment.vue?2d5b","webpack:///./src/components/Comment.vue","webpack:///src/views/Details.vue","webpack:///./src/views/Details.vue?0181","webpack:///./src/views/Details.vue","webpack:///./src/components/Comment.vue?ddbe"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","directives","name","rawName","value","details","top","good","expression","_v","_s","title","is_collect","attrs","on","$event","de_collect","id","collect","_e","_f","create_at","author","loginname","reply_count","tab","info","author_id","edit","domProps","content","proxy","model","callback","$$v","markValue","replays","staticRenderFns","_l","item","index","isReplay","params","avatar_url","class","is_uped","changeUped","ups","length","replayText","sendReplay","props","data","once","computed","methods","window","localStorage","getItem","changeUp","$message","error","$emit","component","components","created","getDetails","$router","push","replay"],"mappings":"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","file":"js/chunk-4df29327.57127bcd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details\"},[(_vm.details)?_c('div',{staticClass:\"deta\"},[_c('Panel',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"title\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.details.top || _vm.details.good),expression:\"details.top || details.good\"}],staticClass:\"top\"},[_vm._v(_vm._s(_vm.details.top ? \"置顶\" : \"精华\"))]),_c('h2',[_vm._v(_vm._s(_vm.details.title))]),(_vm.info)?_c('div',{staticClass:\"sc\"},[(!_vm.details.is_collect)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.collect(_vm.details.id)}}},[_vm._v(\"收藏\")]):_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.de_collect(_vm.details.id)}}},[_vm._v(\"取消收藏\")])],1):_vm._e()]),_c('div',{staticClass:\"infor\"},[_c('span',[_vm._v(\"发布于\"+_vm._s(_vm._f(\"moment\")(_vm.details.create_at,\"from\", \"now\"))+\"年前\")]),_c('span',[_vm._v(\"作者\"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.details.author.loginname))])]),_c('span',[_vm._v(_vm._s(_vm.details.reply_count)+\"次浏览\")]),_c('span',[_vm._v(\"来自\"+_vm._s(_vm._f(\"transformTab\")(_vm.details.tab)))])]),(_vm.info && _vm.details.author_id === _vm.info.id)?_c('div',{staticClass:\"edit\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.edit}})],1):_vm._e(),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.details.content)}})]},proxy:true}],null,false,3119055912)}),(_vm.details.reply_count)?_c('Comment'):_vm._e(),(_vm.info)?_c('Panel',{staticClass:\"replay\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',{staticClass:\"white\"},[_vm._v(\"添加回复\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('mavon-editor',{attrs:{\"subfield\":false,\"autofocus\":false,\"transition\":false},model:{value:(_vm.markValue),callback:function ($$v) {_vm.markValue=$$v},expression:\"markValue\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.replays}},[_vm._v(\"回复\")])]},proxy:true}],null,false,546832537)}):_vm._e()],1):_c('el-skeleton',{attrs:{\"rows\":6,\"animated\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('Panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',{staticClass:\"re\"},[_vm._v(_vm._s(_vm.details.reply_count)+\"回复\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',_vm._l((_vm.details.replies),function(item,index){return _c('CommentItem',{key:item.key,attrs:{\"item\":item,\"index\":index,\"isReplay\":_vm.isReplay},on:{\"update:isReplay\":function($event){_vm.isReplay=$event},\"update:is-replay\":function($event){_vm.isReplay=$event}}})}),1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\"},[_c('div',{staticClass:\"infors\"},[_c('div',{staticClass:\"infors-left\"},[_c('router-link',{staticClass:\"userimg\",attrs:{\"to\":{ name: 'user', params: { loginname: _vm.item.author.loginname } }}},[_c('img',{attrs:{\"src\":_vm.item.author.avatar_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"con\",attrs:{\"id\":_vm.item.id}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.item.author.loginname))]),_c('a',{staticClass:\"times\",attrs:{\"href\":(\"#\" + (_vm.item.id))}},[_vm._v(_vm._s(_vm.index + 1)+\"楼\"+_vm._s(_vm._f(\"moment\")(_vm.item.create_at,\"from\", \"now\"))+\"年前\")])])],1),_c('div',{staticClass:\"zan\"},[_c('i',{staticClass:\"iconfont\",class:_vm.item.is_uped ? 'icon-dianzan' : 'icon-zan',on:{\"click\":_vm.changeUped}}),_c('span',[_vm._v(_vm._s(_vm.item.ups.length))]),_c('i',{staticClass:\"iconfont icon-yihuifu replay\",on:{\"click\":_vm.replays}})])]),_c('div',{staticClass:\"contents\",domProps:{\"innerHTML\":_vm._s(_vm.item.content)}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isReplay === _vm.index),expression:\"isReplay === index\"}],staticClass:\"replays\"},[_c('mavon-editor',{staticClass:\"markdown\",attrs:{\"subfield\":false,\"autofocus\":false,\"transition\":false,\"boxShadow\":false},model:{value:(_vm.replayText),callback:function ($$v) {_vm.replayText=$$v},expression:\"replayText\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.sendReplay}},[_vm._v(\"回复\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-item\">\r\n    <div class=\"infors\">\r\n      <div class=\"infors-left\">\r\n        <router-link\r\n          :to=\"{ name: 'user', params: { loginname: item.author.loginname } }\"\r\n          class=\"userimg\"\r\n        >\r\n          <img :src=\"item.author.avatar_url\" alt=\"\" />\r\n        </router-link>\r\n        <div class=\"con\" :id=\"item.id\">\r\n          <a href=\"#\">{{ item.author.loginname }}</a>\r\n          <a :href=\"`#${item.id}`\" class=\"times\"\r\n            >{{ index + 1 }}楼{{\r\n              item.create_at | moment(\"from\", \"now\")\r\n            }}年前</a\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"zan\">\r\n        <i\r\n          class=\"iconfont\"\r\n          :class=\"item.is_uped ? 'icon-dianzan' : 'icon-zan'\"\r\n          @click=\"changeUped\"\r\n        ></i>\r\n        <span>{{ item.ups.length }}</span>\r\n        <i class=\"iconfont icon-yihuifu replay\" @click=\"replays\"></i>\r\n      </div>\r\n    </div>\r\n    <div class=\"contents\" v-html=\"item.content\"></div>\r\n\r\n    <div class=\"replays\" v-show=\"isReplay === index\">\r\n      <mavon-editor\r\n        class=\"markdown\"\r\n        v-model=\"replayText\"\r\n        :subfield=\"false\"\r\n        :autofocus=\"false\"\r\n        :transition=\"false\"\r\n        :boxShadow=\"false\"\r\n      />\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"sendReplay\">回复</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nexport default {\r\n  props: [\"item\", \"index\", \"isReplay\"],\r\n  data() {\r\n    return {\r\n      replayText: \"\",\r\n      once: true,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({ details: (state) => state.details.value }),\r\n  },\r\n  methods: {\r\n    changeUped() {\r\n      if (window.localStorage.getItem(\"token\")) {\r\n        this.changeUp(this.item.id);\r\n      } else {\r\n        this.$message.error(\"请登录\");\r\n      }\r\n    },\r\n    replays() {\r\n      if (this.once) {\r\n        this.$emit(\"update:isReplay\", this.index);\r\n        this.once = false;\r\n      } else {\r\n        this.$emit(\"update:isReplay\", \"\");\r\n        this.once = true;\r\n      }\r\n      this.replayText = \"@\" + this.item.author.loginname;\r\n    },\r\n    async sendReplay() {\r\n      await this.replay({\r\n        id: this.details.id,\r\n        content: this.replayText,\r\n        reply_id: this.item.reply_id,\r\n      });\r\n      this.isReplay = false;\r\n    },\r\n    ...mapActions([\"changeUp\", \"replay\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.comment-item {\r\n  border-top: 1px solid #ccc;\r\n  padding: 8px;\r\n\r\n  .infors {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n    justify-content: space-between;\r\n    .infors-left {\r\n      display: flex;\r\n      .userimg {\r\n        img {\r\n          width: 30px;\r\n          height: 30px;\r\n          border-radius: 3px;\r\n          margin-right: 8px;\r\n        }\r\n      }\r\n      .con {\r\n        a {\r\n          color: #666;\r\n          font-size: 12px;\r\n          margin-right: 5px;\r\n        }\r\n        .times {\r\n          color: #08c;\r\n          font-size: 11px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .zan {\r\n    i {\r\n      cursor: pointer;\r\n      margin-right: 8px;\r\n    }\r\n    .replay {\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n  .replays {\r\n    height: 350px;\r\n  }\r\n  .slides-enter,\r\n  .slides-leave-to {\r\n    height: 0;\r\n  }\r\n  .v-note-wrapper .v-note-op {\r\n    border-bottom: 1px solid rgb(255, 255, 255, 0.8);\r\n    border-radius: 4px 4px 0 0;\r\n    background-color: rgb(255, 255, 255, 0.8);\r\n  }\r\n  .slides-enter-active,\r\n  .slides-leave-active {\r\n    transition: height 0.5s;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=40fa3044&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comment\">\r\n    <Panel>\r\n      <template #header>\r\n        <span class=\"re\">{{ details.reply_count }}回复</span>\r\n      </template>\r\n      <template #content>\r\n        <div>\r\n          <CommentItem\r\n            v-for=\"(item, index) in details.replies\"\r\n            :key=\"item.key\"\r\n            :item=\"item\"\r\n            :index=\"index\"\r\n            :isReplay.sync=\"isReplay\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </Panel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../containers/Panel.vue\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport CommentItem from \"./CommentItem.vue\";\r\nexport default {\r\n  components: { Panel, CommentItem },\r\n  data() {\r\n    return {\r\n      isReplay: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      details: (state) => state.details.value,\r\n      info: (state) => state.userInfor.info,\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.comment {\r\n  margin-top: 20px;\r\n  .re {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=61a885cf&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"details\">\r\n    <div class=\"deta\" v-if=\"details\">\r\n      <Panel>\r\n        <template #content>\r\n          <div class=\"title\">\r\n            <span class=\"top\" v-show=\"details.top || details.good\">{{\r\n              details.top ? \"置顶\" : \"精华\"\r\n            }}</span>\r\n            <h2>{{ details.title }}</h2>\r\n            <div class=\"sc\" v-if=\"info\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                v-if=\"!details.is_collect\"\r\n                @click=\"collect(details.id)\"\r\n                >收藏</el-button\r\n              >\r\n              <el-button size=\"mini\" v-else @click=\"de_collect(details.id)\"\r\n                >取消收藏</el-button\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"infor\">\r\n            <span\r\n              >发布于{{ details.create_at | moment(\"from\", \"now\") }}年前</span\r\n            >\r\n            <span\r\n              >作者<a href=\"#\">{{ details.author.loginname }}</a></span\r\n            >\r\n            <span>{{ details.reply_count }}次浏览</span>\r\n            <span>来自{{ details.tab | transformTab }}</span>\r\n          </div>\r\n          <div class=\"edit\" v-if=\"info && details.author_id === info.id\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              circle\r\n              size=\"mini\"\r\n              @click=\"edit\"\r\n            ></el-button>\r\n          </div>\r\n          <div class=\"content\" v-html=\"details.content\"></div>\r\n        </template>\r\n      </Panel>\r\n      <Comment v-if=\"details.reply_count\" />\r\n      <Panel v-if=\"info\" class=\"replay\">\r\n        <template #header>\r\n          <span class=\"white\">添加回复</span>\r\n        </template>\r\n        <template #content class=\"mavon-con\">\r\n          <mavon-editor\r\n            v-model=\"markValue\"\r\n            :subfield=\"false\"\r\n            :autofocus=\"false\"\r\n            :transition=\"false\"\r\n          />\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"replays\"\r\n            >回复</el-button\r\n          >\r\n        </template>\r\n      </Panel>\r\n    </div>\r\n    <el-skeleton :rows=\"6\" animated v-else />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../containers/Panel.vue\";\r\nimport { mapActions, mapState, mapMutations } from \"vuex\";\r\nimport Comment from \"../components/Comment.vue\";\r\nexport default {\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      markValue: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    // console.log(this.id);\r\n    this.getDetails(this.id);\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      details: (state) => state.details.value,\r\n      info: (state) => state.userInfor.info,\r\n    }),\r\n  },\r\n  methods: {\r\n    edit() {\r\n      this.$router.push({\r\n        name: \"edit\",\r\n        params: {\r\n          id: this.details.id,\r\n        },\r\n      });\r\n    },\r\n    replays() {\r\n      this.replay({ id: this.details.id, content: this.markValue });\r\n    },\r\n    ...mapActions([\"getDetails\", \"collect\", \"de_collect\", \"replay\"]),\r\n    ...mapMutations([\"clear\"]),\r\n  },\r\n  components: { Panel, Comment },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.details {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  .white {\r\n    color: #fff;\r\n  }\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    h2 {\r\n      font-size: 22px;\r\n      font-weight: 700;\r\n      margin: 8px 0;\r\n      display: inline-block;\r\n      vertical-align: bottom;\r\n      width: 75%;\r\n      line-height: 130%;\r\n    }\r\n    .top {\r\n      display: inline-block;\r\n      width: 34px;\r\n      line-height: 18px;\r\n      font-size: 12px;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      margin-right: 8px;\r\n      flex-shrink: 0;\r\n      background-color: #1e80ff;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .infor {\r\n    font-size: 12px;\r\n    color: #838383;\r\n    margin-bottom: 8px;\r\n    span {\r\n      margin-right: 3px;\r\n      a {\r\n        color: #838383;\r\n      }\r\n      &::before {\r\n        content: \"•\";\r\n        margin-right: 3px;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    border-top: 1px solid #ccc;\r\n    padding-top: 15px;\r\n  }\r\n  .markdown-text {\r\n    padding: 0 15px;\r\n    & > :first-child,\r\n    .preview > :first-child {\r\n      margin-top: 0;\r\n    }\r\n    .markdown-text > :first-child,\r\n    .preview > :first-child {\r\n      margin-top: 0;\r\n    }\r\n    .topic_content p {\r\n      font-size: 15px;\r\n      line-height: 1.7em;\r\n      overflow: auto;\r\n    }\r\n    .topic_content h2 {\r\n      font-size: 26px;\r\n    }\r\n    .topic_content p {\r\n      font-size: 15px;\r\n      line-height: 1.7em;\r\n      overflow: auto;\r\n    }\r\n    img {\r\n      cursor: pointer;\r\n      display: block;\r\n      margin-bottom: 10px;\r\n      max-width: 90%;\r\n    }\r\n    blockquote {\r\n      padding: 0 0 0 15px;\r\n      margin: 0 0 20px;\r\n      border-left: 5px solid #eee;\r\n    }\r\n    a {\r\n      color: #08c;\r\n    }\r\n    h2 {\r\n      font-size: 26px;\r\n      border-bottom: 1px solid #eee;\r\n    }\r\n  }\r\n  .edit {\r\n    margin-bottom: 15px;\r\n  }\r\n  .el-button {\r\n    margin-top: 15px;\r\n  }\r\n  .replay {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=63a932c4&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}